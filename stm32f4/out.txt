cc -c -I../../../punit/inc  ../../../punit/src/test.c -o ./obj/testframework.o	
g++ -Wall -g3 -I. -I./test -I./test/inc -I../../../punit/inc -c test/mock.cpp -o obj/mock.o
g++ -Wall -g3 -I. -I./test -I./test/inc -I../../../punit/inc -c test/test_mcal.cpp -o obj/test_mcal.o
g++ -Wall -g3 -I. -I./test -I./test/inc -I../../../punit/inc -c test/test_usart.cpp -o obj/test_usart.o
test/test_usart.cpp: In function 'void readerCallbackOnRx()':
test/test_usart.cpp:218:34: warning: large integer implicitly truncated to unsigned type [-Woverflow]
     setITstatus(USART_IT_RXNE,SET);
                                  ^
.
linking unittests
g++ -o ./obj/testprog ./obj/testframework.o ./obj/init.o ./obj/mcu.o ./obj/pin.o ./obj/usart.o ./obj/usartwriter.o  ./obj/config.o  ./obj/main.o  ./obj/mock.o  ./obj/test_mcal.o  ./obj/test_usart.o
./obj/mcu.o: In function `initRCC':
d:\Peter\repo\modules\mcal\stm32f4/src/mcu.cpp:85: undefined reference to `RCC_AHB1PeriphClockCmd'
./obj/usart.o: In function `ZN4mcal5usart6impl_t4initEv':
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:104: undefined reference to `USART_ClearITPendingBit'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:105: undefined reference to `USART_ClearITPendingBit'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:106: undefined reference to `USART_ClearITPendingBit'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:107: undefined reference to `USART_ClearITPendingBit'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:110: undefined reference to `USART_ITConfig'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:111: undefined reference to `USART_ITConfig'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:112: undefined reference to `USART_ITConfig'
./obj/usart.o: In function `ZN4mcal5usart6impl_t3isrEv':
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:123: undefined reference to `USART_GetITStatus'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:128: undefined reference to `USART_ClearITPendingBit'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:129: undefined reference to `USART_ITConfig'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:133: undefined reference to `USART_GetITStatus'
./obj/usart.o: In function `ZN4mcal5usart6writerINS_15hsframeprotocolEE5writeEPht':
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:153: undefined reference to `USART_ClearITPendingBit'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:154: undefined reference to `USART_ITConfig'
./obj/usart.o: In function `ZN4mcal5usart6writerINS_10noprotocolEE5writeEPht':
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:153: undefined reference to `USART_ClearITPendingBit'
d:\Peter\repo\modules\mcal\stm32f4/src/usart.cpp:154: undefined reference to `USART_ITConfig'
collect2.exe: error: ld returned 1 exit status
make: *** [test] Error 1
